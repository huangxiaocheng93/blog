当我们要做一件事情时，我们需要搞清楚我们的目标是什么，这个事情的本质是什么。清楚了目标，做事情的目的性就会比较强，了解了事情本质，就能更好的选择方法或者手段。
那么SQL优化的目标是什么？降低SQL执行的时间。
SQL优化的本质是什么？减少MySQL在执行SQL语句时磁盘IO的次数。

# SQL优化的工具
工欲善其事，必先利其器，MySQL提供了可以用来检查SQL执行的工具，那就是执行计划， [MySQL执行计划详解](https://blog.npex.top/post/11.html)详细解释了执行计划应该怎么看。

# 查询优化
MySQL基本操作包括增删改查，这里面**查**应该算是优化的最大头，查的场景最多，也最复杂，所以先记录一下查询优化有哪些方法。

## 设计合适的索引
这应该是最重要，也是最基础的优化手段了，重要到必须放到第一个说，那么怎么才算是合适的索引呢？

### 索引字段的值足够离散
什么意思呢？就是用作索引的字段，必须有足够多不同的值，并且分布的相对均匀，举例说明，假如现在有一张1000万的表，有如下几个场景：
1、字段a是个开关，只有0和1两个值并且分布均匀，符合离散的要求吗？明显不复合，命中这个索引大概也就过滤到500万数据，没意义；
2、字段b大概有10万个不同的值，但是其中等于0的占比90%，其他占比10%，符合离散的要求吗？分情况，如果0值不会被查询，那么是符合的，否则不符合；
3、字段c不为空，每一条记录的值都不同，适合做索引吗？

### 最左匹配原则

### 主键索引
数字，字符串，分布式id




sql优化技巧

避免连表

代码中的注意事项
避免条件丢失
避免大批量回收数据
避免查不需要的大字段